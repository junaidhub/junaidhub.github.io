To create and use a header file in PlatformIO, follow these steps:
1. Create the Header File:
In your PlatformIO project, navigate to the include folder (or create it if it doesn't exist at the root of your project).
Create a new file with a .h extension (e.g., myfunctions.h).
2. Define the Header Guards and Declarations:
Open the newly created header file (myfunctions.h).
Add header guards to prevent multiple inclusions of the same header:
C++

    #ifndef MYFUNCTIONS_H
    #define MYFUNCTIONS_H

    // Function declarations (prototypes)
    void myFunction1();
    int myFunction2(int value);

    #endif // MYFUNCTIONS_H
Declare the functions, classes, or variables you want to expose in this header.
3. Create the Source File for Implementations (Optional but Recommended):
In your PlatformIO project, navigate to the src folder.
Create a new file with a .cpp extension (e.g., myfunctions.cpp).
Include the header file you just created:
C++

    #include "myfunctions.h"
    #include <Arduino.h> // Include if using Arduino functions

    // Function definitions
    void myFunction1() {
        // Implementation of myFunction1
        Serial.println("MyFunction1 called!");
    }

    int myFunction2(int value) {
        // Implementation of myFunction2
        return value * 2;
    }
Provide the implementations for the functions declared in your header file.
4. Include and Use the Header in Your Main Code:
Open your main.cpp file (or any other source file where you want to use the functions).
Include your custom header file:
C++

    #include <Arduino.h>
    #include "myfunctions.h" // Include your custom header

    void setup() {
        Serial.begin(115200);
        myFunction1(); // Call a function from your header
        int result = myFunction2(5);
        Serial.print("Result of myFunction2: ");
        Serial.println(result);
    }

    void loop() {
        // Your main loop code
    }
You can now call the functions declared in your header file from your main code.
Explanation:
Header Guards (#ifndef, #define, #endif): These prevent errors that can occur if a header file is included multiple times in a single compilation unit.
Declarations vs. Definitions: The header file contains declarations (prototypes) of functions and variables, while the corresponding .cpp file contains their actual definitions (implementations). This separation allows for modular code and easier management.
Include Paths: PlatformIO automatically configures the build system to find header files in the include directory and source files in the src directory. You typically don't need to manually configure include paths for files within these standard locations.